^ sumRule @article/d:rule-of-sum

@task
    title: Во что поиграть?
    statement: |
        Петя хочет поиграть в компьютерную игру.
        В его библиотеке игр есть $10$ стрелялок, $5$ стратегий и $3$ квеста.
        Сколькими способами Петя может выбрать одну игру?
    solution: |
        По [правилу суммы](^sumRule) у Пети $10 + 5 + 3 = 18$ способов выбрать одну игру.
    answer: |
        $18$

@task
    title: Да будет свет!
    statement: |
        В темной комнате есть $3$ настольные лампы, $2$ лампочки на потолке, связанные с выключателем около двери, камин и $3$ зашторенных окна.
        Сколько существует вариантов осветить эту комнату?
    solution: |
        Для освещения комнаты можно: включить одну из $3$ настольных ламп, включить лампочки на потолке с помощью выключателя, разжечь камин, снять шторы с одного из $3$ окон.
        По [правилу сложения](^sumRule) получается $3 + 1 + 1 + 3 = 8$ способов осветить комнату.
    answer: |
        $8$

@task
    title: Ведущий на День учителя
    statement: |
        Школа планирует провести мероприятие в честь дня учителя.
        В таблице указаны сводные данные об учениках, которые не против прнять участие в празднике.

        @table
            content: |
                <tr>
                    <th>Класс</th>
                    <th>Мальчики</th>
                    <th>Девочки</th>
                </tr>
                <tr>
                    <td>$8$-й класс</td>
                    <td>$12$</td>
                    <td>$13$</td>
                </tr>
                <tr>
                    <td>$9$-й класс</td>
                    <td>$11$</td>
                    <td>$15$</td>
                </tr>
                <tr>
                    <td>$10$-й класс</td>
                    <td>$9$</td>
                    <td>$10$</td>
                </tr>
                <tr>
                    <td>$11$-й класс</td>
                    <td>$6$</td>
                    <td>$7$</td>
                </tr>

        Сколько есть вариантов назначить ведущего на мероприятие, если для этой роли подходят ученики $9$-го и $10$-го классов?
    hint: |
        Определите, какие группы учеников удовлетворяют требованиям к ведущему праздника.
    solution: |
        Условиям на роль ведущего праздника удовлетворяют $4$ непересекающихся группы:

        1. Мальчики $9$-го класса -- $11$ вариантов
        2. Девочки $9$-го класса -- $15$ вариантов
        3. Мальчики $10$-го класса -- $9$ вариантов
        4. Девочки $10$-го класса -- $10$ вариантов

        По [правилу суммы](^sumRule) получаем $11 + 15 + 9 + 10 = 45$ способов выбрать ведущего.
    answer: |
        $45$

@task
    title: Чай, кофе, потанцуем?
    statement: |
        На дискотеке есть $4$ парня и $3$ девушки.
        Артем станцевал $10$ парных танцев, Василий $3$, Петр и Игорь по $4$.
        Света станцевала $2$ парных танца, Аня $8$.
        Сколько парных танцев станцевала Ксюша?

        *Парни танцуют только с девушками и наоброт.*
    hint: |
        Танцы каждого парня образуют группу танцев.
        Эти группы танцев не пересекаются.
    solution: |
        Начнем с парней. Имеем $4$ группы танцев, по одной группе на каждого из парней.
        Группы эти не пересекаются, так как к каждой группе танцев привязан свой парень.
        По [правилу суммы](^sumRule) получаем $10 + 3 + 4 + 4 = 21$ парный танец.

        В парных танцах парни танцуют с девушками.
        Вся описаная логика с группами и правилом суммы работает и на них тоже.
        Раз парни станцевали $21$ танец, то и девшуки в сумме тоже станцевали $21$ танец.

        $$ \underbrace{2}_{\substack{\text{Света}}} + \underbrace{8}_{\substack{\text{Аня}}} + \underbrace{x}_{\substack{\text{Ксюша}}} = 21 $$

        Решив простейшее уравнение получаем, что Ксюша станцевала $11$ парных танцев. 
    answer: |
        $11$

@task
    title: Большое путешествие
    statement: |
        Сколько существует способов попасть из Математино в Химино?<br>
        Двигаться по дорогам в обратном направлении нельзя.

        { .w8 }
        @image
            src: images/roads.svg
    solution: |
        Разобьем все возможные маршруты на классы.
        В классе "М-Х", то есть напрямую от Математино до Химино, есть $1$ маршрут.
        В классе "М-Ф-Х" есть $3$ разных маршрута.

        По [правилу суммы](^sumRule) получаем $1 + 3 = 4$ маршрута из Математино в Химино.
    answer: |
        $4$

@task
    title: Невероятные восьмерки
    statement: |
        Сколько трехзначных чисел в своей записи содержат ровно две восьмерки?
    hint: |
        Разбейте все трехзначные числа с двумя восьмерками на классы.
        Посчитайте, сколько чисел в каждом классе и используйте [правило сложения](^sumRule).
    solution: |
        Разобьем все возможные трехзначные числа ровно с двумя восьмерками на $3$ класса: класс $88x$, класс $8x8$ и класс $x88$.
        В классах $88x$ и $8x8$ вместо $x$ могут быть любые цифры, кроме $8$, то есть $0, 1, 2, 3, 4, 5, 6, 7, 9$ (всего $9$ вариантов).
        Получается, в этих двух классах у нас по $9$ чисел.
        В классе $x88$ всего $8$ чисел, потому что $0$ не может быть в начале трехзначного числа.

        По [правилу сложения](^sumRule) имеем $26$ трехзначных чисел, в записи которых есть только две восьмерки:

        $$ \underbrace{9}_{\substack{\\ \normalsize 88x}} + \underbrace{9}_{\substack{\\ \normalsize 8x8}} + \underbrace{8}_{\substack{\\ \normalsize x88}} = 26 $$
    answer: |
        $26$

{ #redundant-a-students }
@task
    title: Лишние отличники
    statement: |
        Экзамен по математике на "$5$" сдали $9$ учеников. Экзамен по русскому языку на "$5$" сдали $7$ учеников.
        $3$ ученика получили отлично на обоих экзаменах. Сколько человек имеет пятерку по математике или по русскому языку?
    hint: |
        Перед применением [правила суммы](^sumRule) не забудьте проверить, не пересекается ли группа отличников по математике с группой отличников по русскому языку.
    solution: |
        У нас есть две группы учеников: отличники по математике и отличники по русскому языку.
        В первой группе $9$ человек, во второй $7$.
        Но эти группы пересекаются, потому что и там и там есть одни и те же $3$ ученика, которые получили "$5$" по обоим предметам.

        Если мы просто сложим $9$ и $7$, то с добавлением $7$ мы повторно учтем $3$-х отличников, которые и так есть среди $9$ человек первой группы.
        По [правилу суммы](^sumRule) получается всего $9 + 7 - 3 = 13$ отличников.
    answer: |
        $13$

{ #less-know-better-sleep }
@task
    title: Меньше знаешь, крепче спишь
    statement: |
        В группе $40$ человек. Из них $20$ знают комбинаторику, $30$ знакомы с теорией вероятностей.
        $15$ человек обе темы.
        Сколько человек не знает ни комбинаторику, ни теорию вероятностей?
    hint: |
        Задача решается так же, как и "[Лишние отличники](task:redundant-a-students)", только в конце надо выполнить еще одно действие.
    solution: |
        В задаче есть два **пересекающихся** класса. Поэтому мы можем использовать правило суммы и не забыть вычесть количество повторящихся объектов.

        $$ 20 + 30 - 15 = 35 $$

        Значит, "комбинаторику или теорию вероятности" знают $35$ человек.
        Но нас просят найти тех, кто ничего не знает.
        Для этого вычитаем $35$ человек, которые хоть что-то знают из общего количества человек: $40 - 35 = 5$.

        $5$ человек не знают ни комбинаторику, ни теорию вероятности.
    answer: |
        $5$

@task
    title: Работа не волк, в лес не убежит
    statement: |
        Местная газета опросила $200$ молодых людей.
        $170$ из них учатся в университете.
        $45$ человек работают.
        $27$ не работают и не учатся.
        
        * Сколько молодых людей учатся и работают?
        * Сколько человек только учатся?
        * Сколько человек только работают?
    hint: |
        Задача является развитием идей задач "[Меньше знаешь, крепче спишь](task:less-know-better-sleep)" и "[Лишние отличники](task:redundant-a-students)".
        Во всех трех задачах по сути выполняются одни и те же вычисления, просто с разными неизвестными.

        Сначала найдите, сколько человек занимаются хоть чем-то.
        Потом используйте [правило суммы](^sumRule).
    solution: |
        Сначала определим, сколько человек заняты хоть чем-то: работой, учебой или и тем и другим сразу.
        Для этого из общего количества человек вычтем тех, кто ничем не занят:

        $$ 200 - 27 = 173 $$

        Учащиеся и работащие образуют два класса.
        По [правилу суммы](^sumRule) получается $170 + 45 = 215$ человек.
        Но нам уже точно известно, что чем-то занимаются **только** $173$ человека.
        Значит наши классы пересекаются и [есть](s:explain) $215 - 173 = 42$ человека, которые одновременно работают и учатся.

        Итак, $42$ человека учатся и работают.
        Тогда $170 - 42 = 128$ человек только учатся, а $45 - 42 = 3$ человека только работают.

        { #explain }
        @spoiler
            Эти $42$ человека есть как в классе "учащиеся", так и в классе "работающие".
            Сложив по правилу суммы эти два класса, мы учли этих людей дважды.
            Из-за этого мы и получили больше людей ($215$), чем на самом деле должно быть ($173$):

            $$ 170 + 45 - x = 173 \\ x = 42 $$
    answer: |
        $42$ человека учатся и работают.
        $128$ человек только учатся.
        $3$ человека только работают.

@task
    title: Решений мало не бывает
    statement: |
        Сколько положительных целых решений имеет следующее выражение?

        $$ -7 < x \leq 5 \ \text{ или } \ 4 < x < 100 $$
    hint: |
        Положительные целые числа это числа вида $1, 2, 3, \ldots$.
        
        Обращайте внимние на строгость знаков неравенства.

        Решения первого неравества это первый класс, второго -- второй.
        Не забудьте проверить их на пересечение.
    solution: |
        У нас есть два класса, каждый из которых связан со своим неравенством.
        Решениями первого неравенства являются целые числа от $1$ до $5$ включительно, то есть $6$ чисел.
        У второго неравенства решения это все целые числа от $5$ до $99$, то есть $95$ чисел.
        
        Классы у нас пересекаются. Число $5$ одновременно является решением как первого, так и второго неравенства, поэтому по [правилу суммы](^sumRule) всего имеем $6 + 95 - 1 = 100$ положительных решений.
    answer: |
        $100$

@task
    title: Чертова лестница
    desc: Сложная и нестандартная
    statement: |
        Лестница состоит из $9$ ступенек.
        Алексей может подниматься ступенька за ступенькой, а может перешагивать через одну.
        Сколько существует способов подняться по лестнице?
        А если в лестнице $11$ ступенек?
    hint: |
        Возьмите любую ступеньку (например, $9$-ю) и рассмотрите ее связь с двумя предыдущими ступенями: $8$-ой и $7$-ой.
        Проанализируйте, как связаны способы попасть на $8$ и $7$ ступени со способами попасть на $9$ ступень.

        Ключевую для решения задачи формулу можно получить только рассматривая эти три ступеньки.
        Огромные деревья вариантов строить не надо!
    answer: |
        На лестницу из $9$ ступенек можно подняться $55$ разными способами.
        А на лестницу из $11$ ступенек -- $144$.
    solution: |
        ### Построение модели
        
        Сходу слона съесть не выйдет, поэтому будем есть по кусочкам.
        В данном случае рассмотрим какую-нибудь **одну** ступеньку.
        Возьмем для примера девятую ступень.
        Попасть на нее можно только с восьмой ступени (поднявшись на одну ступеньку) или с седьмой ступени (переступив через одну).
        Других вариантов нет.

        { .w4 }
        @image
            src: images/ladder-to-hell.svg
            caption: На ступеньку 9 можно попасть только со ступени 8 и ступени 7.

        Представим теперь, что на восьмую ступеньку можно попасть $5$ способами.
        Значит и на девятую ступеньку с восьмой можно попасть тоже **только** $5$-ю [способами](s:why-hell-ladder) -- совершив один шаг.

        { #why-hell-ladder }
        @spoiler
            Действительно, вот у нас есть $5$ способов попасть на восьмую ступень.
            "Дорога" от восьмой к девятой ступени только одна, поэтому каждый способ попасть на восьмую ступень по сути автоматом является и способом попасть на девятую ступень тоже.
            Других способов нет, поэтому на девятую ступеньку с восьмой можно попасть только $5$-ю способами.

        Теперь представим, что на седьмую ступеньку можно попасть $7$ способами.
        Тогда, повторяя рассуждения как с восьмой ступенькой, с седьмой на девятую ступень тоже можно попасть **только** $7$ способами.

        Получается, способов попасть на девятую ступеньку столько же, как и способов попасть на "восьмую или седьмую" ступеньки.
        Причем классы способов попасть на ступеньку $8$ и на ступеньку $7$ не пересекаются!
        Одинаковых путей нет, ведь любой путь из класса "Ступень $8$" содержит в себе восьмую ступеньку, которой нет ни в одном пути из класса "Ступень $7$".

        Итак, у нас есть два непересекающихся класса, а значит мы можем использовать [правило суммы](^sumRule): $5 + 7 = 13$ способов попасть на девятую ступеньку.

        ### Математическая модель
        
        Фишка в том, что подобные рассуждения можно провести для **любой** ступеньки.
        Тогда количество способов попасть на ступеньку $n$ равно сумме количества способов попасть на ступеньки $n-1$ и $n-2$.
        Если обозначить количество способов попасть на ступень $n$ за $S_n$, то получаем формулу:

        $$ S_n = S_{n-1} + S_{n-2} $$

        ### Решение задачи

        Попасть на первую ступеньку можно только одним способом $S_1 = 1$.
        На вторую уже есть два способа $S_2 = 2$: с первой ступеньки и сразу с пола переступив через первую.
        Для третьей ступеньки уже можно воспользоваться выведенной формулой:

        $$ S_3 = S_2 + S_1 = 2 + 1 = 3 $$

        Ну и продолжаем дальше считать с помощью нашей формулы до победного:

        @table
            content: |
                <tr>
                    <td>$S_1$</td>
                    <td>$S_2$</td>
                    <td>$S_3$</td>
                    <td>$S_4$</td>
                    <td>$S_5$</td>
                    <td>$S_6$</td>
                    <td>$S_7$</td>
                    <td>$S_8$</td>
                    <td>$\textcolor{#a93838}{S_9}$</td>
                    <td>$S_{10}$</td>
                    <td>$\textcolor{#a93838}{S_{11}}$</td>
                </tr>
                <tr>
                    <td>$1$</td>
                    <td>$2$</td>
                    <td>$3$</td>
                    <td>$5$</td>
                    <td>$8$</td>
                    <td>$13$</td>
                    <td>$21$</td>
                    <td>$34$</td>
                    <td>$\textcolor{#a93838}{55}$</td>
                    <td>$89$</td>
                    <td>$\textcolor{#a93838}{144}$</td>
                </tr>

        ### Интересная взаимосвязь

        Обратите внимение на полученную последовательность чисел:

        $$ 1, 2, 3, 5, 8, 12, \ldots $$

        Каждый следующий элемент этой последовательности получается через сложение двух предыдущих элементов.
        Это широко известные "Числа Фибоначчи".
        Они всплывают в самых разных областях, причем не только в математике, но даже и в природе.
        Только что мы выяснили, что они связаны и с подъемом на самую обыкновенную лестницу.

        Удивительно...