^ productRule article|combinatorics/rules/product|d:rule-of-product
^ sumRule article|combinatorics/rules/sum|d:rule-of-sum

^ combinations article|t:combinations
^ combinationsRepeat article|t:combinations-repeat

@task
    title: Грузоперевозки
    statement: |
        Сколькими способами можно вывезти со склада $12$ ящиков на двух одинаковых машинах, если на каждую машину грузят по $6$ ящиков.
    hint: |
        Исопльзуйте [формулу](^combinations) сочетаний без повторений.
    solution: |
        Положение ящиков внутри машины значения не имеет, каждый ящик погружается один раз.
        Тогда каждый вариант полной загрузки машины можно рассматривать как сочетание из $12$ ящиков по $6$ вакантным местам внутри кузова машины.
        Находим количество этих сочетаний по [формуле](^combinations):

        $$ C_{12}^6 = \binom{12}{6} = \frac{12!}{6! \ 6!} = 924 $$

        Всего $924$ способа загрузить одну машину.
        Вне зависимости от выбранного способа загрузки, во вторую машину нужно загрузить $6$ оставшихся ящиков, а сделать это можно только одним образом -- загрузить их все.

        Так как машины одинаковые, то нет никакой разницы, грузим мы ящики $924$ способами на первую машину или на вторую.
        Ведь после загрузки их можно просто поменять местами и вот вторая машина уже стала первой.

        Итого, в целом все ящики на двух одинаковых машинах можно вывезти $924$ способами, если считать две машины неотличимыми друг от друга.
    answer: |
        $924$

@task
    title: Авторский коллектив
    statement: |
        Четыре автора должны написать книгу из $17$ глав, причем первый и третий должны написать по $5$ глав, второй -- $4$, а четвертый -- $3$ главы книги. Сколькими способами можно распределить главы между авторами?
    hint: |
        Последовательно распределяйте главы по авторам.
        Финальный результат получите через [правило умножения](^combinations).
    solution: |
        Первый автор должен написать $5$, причем не важно каких.
        В каком порядке он это сделал значения не имеет.
        Значит мы ищем сочетания из $17$ глав по $5$ главам, который напишет первый автор.
        Количество этих сочетаний по [формуле](^combinations) равно $C_{17}^5$.

        Вне зависимости от глав, которые выбрал первый автор, второй выбирает свои $4$ главы из $12$ оставшихся.
        Сделать это он может $C_{12}^4$ способами. И так далее по всем авторам.

        Итого, [по правилу](^productRule) умножения находим, сколькими способами можно распределить главы между авторами:

        $$ C_{17}^5 C_{12}^4 C_{8}^5 C_{3}^3 = 171 \ 531 \ 360 $$
    answer: |
        $$ C_{17}^5 C_{12}^4 C_{8}^5 C_{3}^3 = 171 \ 531 \ 360 $$

@task
    title: Параллельные треугольники
    statement: |
        На первой из двух праллельных прямых лежит $10$ точек, на второй -- $20$.
        Сколько существует треугольников с вершинами в этих точках?
    hint: |
        Разделите все треугольники на две группы: треугольники с двумя вершинами на первой прямой и треугольники с двумя вершинами на второй прямой.
    solution: |
        Первую прямую обозначим буквой $a$, а вторую $b$.
        Выделим два класса треугольников: $T_a$ и $T_b$. В классе $T_a$ будут треугольники, две вершины которых лежат на прямой $a$, а третья на $b$.
        В классе $T_b$ треугольники, две вершины которых лежат на второй прямой $b$, а третья на $a$.

        Треугольников, которые лежат сразу в обоих классах, не существует (это потребовало бы $4$ вершины, а у треугольников их всего $3$).
        Поэтому классы $T_a$ и $T_b$ не пересекаются.

        Найдем теперь, сколько треугольников находится в классе $T_a$.
        Напомним, что в этом классе две вершины лежат на прямой $a$, а значит нам нужны две точки на этой прямой.
        Порядок точек значения не имеет, поэтому ищем сочетания из $10$ точек на прямой $a$ по $2$ вершины.
        Количество пар точек находим по [формуле](^combinations) сочетаний:

        $$ C_{10}^2 = \frac{10!}{(10-2)! \ 2!} = 45 $$

        В качестве третьей вершины можно выбрать любую из $20$ точек на прямой $b$.
        Находим количество всех треугольников в $T_a$ по [правилу умножения](^productRule):

        $$ C_{10}^2 \cdot 20 = 45 \cdot 20 = 900 \quad (T_1) $$

        По такой же логике находим количество треугольников в классе $T_b$:

        $$ C_{20}^2 \cdot 10 = 190 \cdot 10 = 1900 \quad (T_2) $$

        Так как классы $T_a$ и $T_b$ не пересекаются, то по [правилу суммы](^sumRule) находим количество всех треугольников, которые можно построить на точках прямых $a$ и $b$:

        $$ 900 + 1900 = 2800 $$
    answer: $2800$

@task
    title: Анализ уравнений
    hint: |
        Расположите единицы в ряд и назначайте им переменные.
    statement: |
        Сколько решений в неотрицательных целых числах имеет следующее уравнение?

        $$ x + y + z + q = 10 $$
    solution: |
        Раз справа стоит $10$, то и слева мы должны получить $10$.
        Использовать мы можем только натуральные числа и $0$.
        Каждое из этих чисел можно представить как набор единиц: $3$ -- это три единицы, $0$ -- ноль единиц.
        В сумме должно получиться $10$ единиц.

        В распоряжении у нас есть $10$ единиц, которые надо распихать по $4$-м переменным.
        Расположим эти $10$ единиц в ряд и каждой единице будем назначать свою переменную.
        Порядок, в котором мы назначем единицам переменные не важен.
        Пример:

        $$ \overset{\small x}{1}, \ \overset{\small x}{1}, \ \overset{\small z}{1}, \ \overset{\small q}{1}, \ \overset{\small x}{1}, \ \overset{\small x}{1}, \ \overset{\small z}{1}, \ \overset{\small z}{1}, \ \overset{\small x}{1}, \ \overset{\small x}{1} $$

        Эта комбинация обозначает решение уравнение со следующими значениями переменных:
        
        $$ x=6, \quad y =0, \quad z = 3, \quad q = 1 $$

        Каждое распределение переменных по единицам можно рассматривать как сочетание с повторениями из $4$ переменных по $10$ единицам.
        Найдем количество таких сочетаний по [формуле](^combinationsRepeat):

        $$ \bar{C}_4^{10} = C_{4+10-1}^{10} = \frac{(4+10-1)!}{(4-1)! \ 10!} = \frac{11 \cdot 12 \cdot 13}{6} = 286 $$

        Итак, уравнение имеет $286$ решений в неотрицательных числах.
    answer: $286$

---

* Комбинаторная алгебра -- уравнения и неравенства с сочетаниями
* Пример на размещение ладей уже на любых клетках + обощенный пример с неограниченным количество ладей и бесконечно большим полем.
* Дать задачу на нахождение сочетаний, но так, чтобы среди элементов были дубликаты. Например, из слова "математика".
* В целом по книге пробежаться на предмет задач.
* Задача про пик героев в доте. Сколькими способами две команды могут выбрать себе $5$ героев из 111? Прошло уже 3 миллиарда матчей. Все ли возможные пики были испробованы? Найти сколько игр было уже сыграно, скорее всего их сильно меньше, чем кол.во сочетаний, а значит чисто физически не могли сыграть всеми возможными пиками. Два условия -- комнады одинаковые и команды разые (силы Тьмы и Света).
* Часть задач с другими лотереями вынести в практикум.